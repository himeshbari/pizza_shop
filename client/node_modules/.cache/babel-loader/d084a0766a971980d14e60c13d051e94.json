{"ast":null,"code":"import axios from \"axios\";\nexport const placeOrder = (token, subTotal) => async (dispatch, getState) => {\n  dispatch({\n    type: \"PLACE_ORDER_REQUEST\"\n  });\n  const currentUser = getState().loginUserReducer.currentUser;\n  const cartItems = getState().cartReducer.cartItems;\n  try {\n    await axios.post(\"/api/orders/placeorder\", {\n      token,\n      subTotal,\n      currentUser,\n      cartItems\n    });\n    dispatch({\n      type: \"PLACE_ORDER_SUCCESS\"\n    });\n    // console.log(res);\n  } catch (error) {\n    dispatch({\n      type: \"PLACE_ORDER_FAIL\"\n    });\n    console.log(error);\n  }\n};\nexport const getUserOrders = () => async (dispatch, getState) => {\n  const currentUser = getState().loginUserReducer.currentUser;\n  dispatch({\n    type: \"USER_ORDER_REQUEST\"\n  });\n  try {\n    const response = await axios.post(\"/api/orders/getuserorder\", {\n      userid: currentUser._id\n    });\n    // console.log(response);\n    dispatch({\n      type: \"USER_ORDER_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"USER_ORDER_FAIL\",\n      payload: error\n    });\n  }\n};\nexport const getAllOrders = () => async (dispatch, getState) => {\n  // const currentUser = getState().loginUserReducer.currentUser;\n  dispatch({\n    type: \"ALL_ORDER_REQUEST\"\n  });\n  try {\n    const response = await axios.get(\"/api/orders/alluserorder\");\n    dispatch({\n      type: \"ALL_ORDER_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"ALL_ORDER_FAIL\",\n      payload: error\n    });\n  }\n};\nexport const deliverOrder = orderid => async (dispatch, getState) => {\n  // const currentUser = getState().loginUserReducer.currentUser;\n  dispatch({\n    type: \"GET_ALL_ORDER_REQUEST\"\n  });\n  try {\n    await axios.post(\"/api/orders/deliverorder\", {\n      orderid\n    });\n    alert(\"Deliverd Success\");\n    const orders = await axios.get(\"/api/orders/alluserorder\");\n    dispatch({\n      type: \"GET_ALL_ORDER_SUCCESS\",\n      payload: orders.data\n    });\n    window.location.href = \"/admin/orderlist\";\n  } catch (error) {\n    dispatch({\n      type: \"GET_ALL_ORDER_FAIL\",\n      payload: error\n    });\n  }\n};","map":{"version":3,"names":["axios","placeOrder","token","subTotal","dispatch","getState","type","currentUser","loginUserReducer","cartItems","cartReducer","post","error","console","log","getUserOrders","response","userid","_id","payload","data","getAllOrders","get","deliverOrder","orderid","alert","orders","window","location","href"],"sources":["D:/Desktops/PIZZA_SHOP_MERN_PROJECT/client/src/actions/orderAction.js"],"sourcesContent":["import axios from \"axios\";\n\nexport const placeOrder = (token, subTotal) => async (dispatch, getState) => {\n  dispatch({ type: \"PLACE_ORDER_REQUEST\" });\n  const currentUser = getState().loginUserReducer.currentUser;\n  const cartItems = getState().cartReducer.cartItems;\n\n  try {\n    await axios.post(\"/api/orders/placeorder\", {\n      token,\n      subTotal,\n      currentUser,\n      cartItems,\n    });\n\n    dispatch({ type: \"PLACE_ORDER_SUCCESS\" });\n    // console.log(res);\n    \n  } catch (error) {\n    dispatch({ type: \"PLACE_ORDER_FAIL\" });\n    console.log(error);\n  }\n};\n\nexport const getUserOrders = () => async (dispatch, getState) => {\n  const currentUser = getState().loginUserReducer.currentUser;\n  dispatch({\n    type: \"USER_ORDER_REQUEST\",\n  });\n\n  try {\n    const response = await axios.post(\"/api/orders/getuserorder\", {\n      userid: currentUser._id,\n    });\n    // console.log(response);\n    dispatch({ type: \"USER_ORDER_SUCCESS\", payload: response.data });\n  } catch (error) {\n    dispatch({ type: \"USER_ORDER_FAIL\", payload: error });\n  }\n};\n\nexport const getAllOrders = () => async (dispatch, getState) => {\n  // const currentUser = getState().loginUserReducer.currentUser;\n  dispatch({\n    type: \"ALL_ORDER_REQUEST\",\n  });\n\n  try {\n    const response = await axios.get(\"/api/orders/alluserorder\");\n    dispatch({ type: \"ALL_ORDER_SUCCESS\", payload: response.data });\n  } catch (error) {\n    dispatch({ type: \"ALL_ORDER_FAIL\", payload: error });\n  }\n};\n\nexport const deliverOrder = (orderid) => async (dispatch, getState) => {\n  // const currentUser = getState().loginUserReducer.currentUser;\n  dispatch({\n    type: \"GET_ALL_ORDER_REQUEST\",\n  });\n\n  try {\n    await axios.post(\"/api/orders/deliverorder\", { orderid });\n    alert(\"Deliverd Success\");\n    const orders = await axios.get(\"/api/orders/alluserorder\");\n    dispatch({ type: \"GET_ALL_ORDER_SUCCESS\", payload: orders.data });\n    window.location.href = \"/admin/orderlist\";\n  } catch (error) {\n    dispatch({ type: \"GET_ALL_ORDER_FAIL\", payload: error });\n  }\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,UAAU,GAAGA,CAACC,KAAK,EAAEC,QAAQ,KAAK,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;EAC3ED,QAAQ,CAAC;IAAEE,IAAI,EAAE;EAAsB,CAAC,CAAC;EACzC,MAAMC,WAAW,GAAGF,QAAQ,EAAE,CAACG,gBAAgB,CAACD,WAAW;EAC3D,MAAME,SAAS,GAAGJ,QAAQ,EAAE,CAACK,WAAW,CAACD,SAAS;EAElD,IAAI;IACF,MAAMT,KAAK,CAACW,IAAI,CAAC,wBAAwB,EAAE;MACzCT,KAAK;MACLC,QAAQ;MACRI,WAAW;MACXE;IACF,CAAC,CAAC;IAEFL,QAAQ,CAAC;MAAEE,IAAI,EAAE;IAAsB,CAAC,CAAC;IACzC;EAEF,CAAC,CAAC,OAAOM,KAAK,EAAE;IACdR,QAAQ,CAAC;MAAEE,IAAI,EAAE;IAAmB,CAAC,CAAC;IACtCO,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EACpB;AACF,CAAC;AAED,OAAO,MAAMG,aAAa,GAAGA,CAAA,KAAM,OAAOX,QAAQ,EAAEC,QAAQ,KAAK;EAC/D,MAAME,WAAW,GAAGF,QAAQ,EAAE,CAACG,gBAAgB,CAACD,WAAW;EAC3DH,QAAQ,CAAC;IACPE,IAAI,EAAE;EACR,CAAC,CAAC;EAEF,IAAI;IACF,MAAMU,QAAQ,GAAG,MAAMhB,KAAK,CAACW,IAAI,CAAC,0BAA0B,EAAE;MAC5DM,MAAM,EAAEV,WAAW,CAACW;IACtB,CAAC,CAAC;IACF;IACAd,QAAQ,CAAC;MAAEE,IAAI,EAAE,oBAAoB;MAAEa,OAAO,EAAEH,QAAQ,CAACI;IAAK,CAAC,CAAC;EAClE,CAAC,CAAC,OAAOR,KAAK,EAAE;IACdR,QAAQ,CAAC;MAAEE,IAAI,EAAE,iBAAiB;MAAEa,OAAO,EAAEP;IAAM,CAAC,CAAC;EACvD;AACF,CAAC;AAED,OAAO,MAAMS,YAAY,GAAGA,CAAA,KAAM,OAAOjB,QAAQ,EAAEC,QAAQ,KAAK;EAC9D;EACAD,QAAQ,CAAC;IACPE,IAAI,EAAE;EACR,CAAC,CAAC;EAEF,IAAI;IACF,MAAMU,QAAQ,GAAG,MAAMhB,KAAK,CAACsB,GAAG,CAAC,0BAA0B,CAAC;IAC5DlB,QAAQ,CAAC;MAAEE,IAAI,EAAE,mBAAmB;MAAEa,OAAO,EAAEH,QAAQ,CAACI;IAAK,CAAC,CAAC;EACjE,CAAC,CAAC,OAAOR,KAAK,EAAE;IACdR,QAAQ,CAAC;MAAEE,IAAI,EAAE,gBAAgB;MAAEa,OAAO,EAAEP;IAAM,CAAC,CAAC;EACtD;AACF,CAAC;AAED,OAAO,MAAMW,YAAY,GAAIC,OAAO,IAAK,OAAOpB,QAAQ,EAAEC,QAAQ,KAAK;EACrE;EACAD,QAAQ,CAAC;IACPE,IAAI,EAAE;EACR,CAAC,CAAC;EAEF,IAAI;IACF,MAAMN,KAAK,CAACW,IAAI,CAAC,0BAA0B,EAAE;MAAEa;IAAQ,CAAC,CAAC;IACzDC,KAAK,CAAC,kBAAkB,CAAC;IACzB,MAAMC,MAAM,GAAG,MAAM1B,KAAK,CAACsB,GAAG,CAAC,0BAA0B,CAAC;IAC1DlB,QAAQ,CAAC;MAAEE,IAAI,EAAE,uBAAuB;MAAEa,OAAO,EAAEO,MAAM,CAACN;IAAK,CAAC,CAAC;IACjEO,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,kBAAkB;EAC3C,CAAC,CAAC,OAAOjB,KAAK,EAAE;IACdR,QAAQ,CAAC;MAAEE,IAAI,EAAE,oBAAoB;MAAEa,OAAO,EAAEP;IAAM,CAAC,CAAC;EAC1D;AACF,CAAC"},"metadata":{},"sourceType":"module"}